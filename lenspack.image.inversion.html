

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>lenspack.image.inversion module &mdash; lenspack 1.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="lenspack.image.transforms module" href="lenspack.image.transforms.html" />
    <link rel="prev" title="lenspack.image.inpainting module" href="lenspack.image.inpainting.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> lenspack
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="lenspack.html">lenspack package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="lenspack.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="lenspack.geometry.html">lenspack.geometry package</a></li>
<li class="toctree-l3"><a class="reference internal" href="lenspack.halo.html">lenspack.halo package</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="lenspack.image.html">lenspack.image package</a></li>
<li class="toctree-l3"><a class="reference internal" href="lenspack.tests.html">lenspack.tests package</a></li>
<li class="toctree-l3"><a class="reference internal" href="lenspack.theory.html">lenspack.theory package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lenspack.html#submodules">Submodules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lenspack.info.html">lenspack.info module</a></li>
<li class="toctree-l3"><a class="reference internal" href="lenspack.peaks.html">lenspack.peaks module</a></li>
<li class="toctree-l3"><a class="reference internal" href="lenspack.shear.html">lenspack.shear module</a></li>
<li class="toctree-l3"><a class="reference internal" href="lenspack.starlet_l1norm.html">lenspack.starlet_l1norm module</a></li>
<li class="toctree-l3"><a class="reference internal" href="lenspack.stats.html">lenspack.stats module</a></li>
<li class="toctree-l3"><a class="reference internal" href="lenspack.utils.html">lenspack.utils module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lenspack.html#module-lenspack">Module contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lenspack.html#id1">Subpackages</a></li>
<li class="toctree-l3"><a class="reference internal" href="lenspack.html#id2">Submodules</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">lenspack</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="lenspack.html">lenspack package</a> &raquo;</li>
        
          <li><a href="lenspack.image.html">lenspack.image package</a> &raquo;</li>
        
      <li>lenspack.image.inversion module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/lenspack.image.inversion.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="module-lenspack.image.inversion">
<span id="lenspack-image-inversion-module"></span><h1>lenspack.image.inversion module<a class="headerlink" href="#module-lenspack.image.inversion" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="lenspack.image.inversion.ks93">
<span class="sig-prename descclassname"><span class="pre">lenspack.image.inversion.</span></span><span class="sig-name descname"><span class="pre">ks93</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">g1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">g2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenspack/image/inversion.html#ks93"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenspack.image.inversion.ks93" title="Permalink to this definition">¶</a></dt>
<dd><p>Direct inversion of weak-lensing shear to convergence.</p>
<p>This function is an implementation of the Kaiser &amp; Squires (1993) mass
mapping algorithm. Due to the mass sheet degeneracy, the convergence is
recovered only up to an overall additive constant. It is chosen here to
produce output maps of mean zero. The inversion is performed in Fourier
space for speed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>g1</strong> (<em>array_like</em>) – 2D input arrays corresponding to the first and second (i.e., real and
imaginary) components of shear, binned spatially to a regular grid.</p></li>
<li><p><strong>g2</strong> (<em>array_like</em>) – 2D input arrays corresponding to the first and second (i.e., real and
imaginary) components of shear, binned spatially to a regular grid.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>kE, kB</strong> – E-mode and B-mode maps of convergence.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple of numpy arrays</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#AssertionError" title="(in Python v3.9)"><strong>AssertionError</strong></a> – For input arrays of different sizes.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">bin2d</span></code></dt><dd><p>For binning a galaxy shear catalog.</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># (g1, g2) should in practice be measurements from a real galaxy survey</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g1</span><span class="p">,</span> <span class="n">g2</span> <span class="o">=</span> <span class="mf">0.1</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">32</span><span class="p">)</span> <span class="o">+</span> <span class="mf">0.1</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">32</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kE</span><span class="p">,</span> <span class="n">kB</span> <span class="o">=</span> <span class="n">ks93</span><span class="p">(</span><span class="n">g1</span><span class="p">,</span> <span class="n">g2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kE</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(32, 32)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kE</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="go">1.0842021724855044e-18</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lenspack.image.inversion.ks93inv">
<span class="sig-prename descclassname"><span class="pre">lenspack.image.inversion.</span></span><span class="sig-name descname"><span class="pre">ks93inv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kE</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kB</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenspack/image/inversion.html#ks93inv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lenspack.image.inversion.ks93inv" title="Permalink to this definition">¶</a></dt>
<dd><p>Direct inversion of weak-lensing convergence to shear.</p>
<p>This function provides the inverse of the Kaiser &amp; Squires (1993) mass
mapping algorithm, namely the shear is recovered from input E-mode and
B-mode convergence maps.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kE</strong> (<em>array_like</em>) – 2D input arrays corresponding to the E-mode and B-mode (i.e., real and
imaginary) components of convergence.</p></li>
<li><p><strong>kB</strong> (<em>array_like</em>) – 2D input arrays corresponding to the E-mode and B-mode (i.e., real and
imaginary) components of convergence.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>g1, g2</strong> – Maps of the two components of shear.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple of numpy arrays</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#AssertionError" title="(in Python v3.9)"><strong>AssertionError</strong></a> – For input arrays of different sizes.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#lenspack.image.inversion.ks93" title="lenspack.image.inversion.ks93"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ks93</span></code></a></dt><dd><p>For the forward operation (shear to convergence).</p>
</dd>
</dl>
</div>
</dd></dl>

</section>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="lenspack.image.transforms.html" class="btn btn-neutral float-right" title="lenspack.image.transforms module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="lenspack.image.inpainting.html" class="btn btn-neutral float-left" title="lenspack.image.inpainting module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2019, Austin Peel.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>